<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bazm Coffee - A Premium Blend Experience</title>
    
    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Playfair+Display:ital,wght@0,700;1,500&display=swap" rel="stylesheet">

    <!-- Custom Styles -->
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #fdfcfb; /* A very light, warm white */
        }
        
        .font-serif {
            font-family: 'Playfair Display', serif;
        }

        /* Hero Section Background Image */
        #home {
            background-image: linear-gradient(rgba(0,0,0,0.5), rgba(0,0,0,0.5)), url('https://images.pexels.com/photos/1695052/pexels-photo-1695052.jpeg?auto=compress&cs=tinysrgb&w=1920&h=1080&dpr=2');
            background-size: cover;
            background-position: center;
            background-attachment: fixed;
        }
        
        /* --- Navbar Styles --- */
        .navbar-scrolled {
            background-color: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(10px);
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
            --tw-text-opacity: 1;
            color: rgba(17, 24, 39, var(--tw-text-opacity)); /* text-gray-900 */
        }
        .navbar-scrolled .nav-brand {
            color: rgba(31, 41, 55, var(--tw-text-opacity)); /* text-gray-800 */
        }
        .navbar-scrolled .nav-link {
            color: rgba(55, 65, 81, var(--tw-text-opacity)); /* text-gray-700 */
        }
        .navbar-scrolled .nav-link:hover {
            color: rgba(79, 70, 229, var(--tw-text-opacity)); /* text-indigo-600 */
        }
        .navbar-scrolled #mobile-menu-button {
            color: rgba(31, 41, 55, var(--tw-text-opacity));
        }

        /* Navbar Link Hover Animation */
        .nav-link {
            position: relative;
            transition: color 0.3s ease;
        }
        .nav-link::after {
            content: '';
            position: absolute;
            width: 0;
            height: 2px;
            bottom: -6px;
            left: 50%;
            transform: translateX(-50%);
            background-color: #4f46e5; /* indigo-600 */
            transition: width 0.3s ease;
        }
        .nav-link:hover::after {
            width: 60%;
        }
        
        /* --- Menu Card & Modal Styles --- */
        .menu-card {
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }
        .menu-card:hover {
            transform: translateY(-10px);
            box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
        }
        
        .modal {
            visibility: hidden;
            opacity: 0;
            transition: visibility 0s 0.3s, opacity 0.3s ease-in-out;
        }
        .modal.is-open {
            visibility: visible;
            opacity: 1;
            transition-delay: 0s;
        }
        #modal-content {
            transform: scale(0.9);
            opacity: 0;
            transition: all 0.3s ease-in-out;
        }
        .modal.is-open #modal-content {
            transform: scale(1);
            opacity: 1;
        }
        .modal-option {
            transition: all 0.2s ease;
        }
        .modal-option.active {
            background-color: #4338ca; /* indigo-700 */
            color: white;
            border-color: #4338ca;
        }

        /* --- On-Scroll Animation Styles --- */
        .animate-on-scroll {
            opacity: 0;
            transition: opacity 0.8s ease-out, transform 0.8s ease-out;
        }
        .fade-in {
            opacity: 0;
        }
        .fade-in-up {
            opacity: 0;
            transform: translateY(30px);
        }
        .fade-in-left {
            opacity: 0;
            transform: translateX(-30px);
        }
        .fade-in-right {
            opacity: 0;
            transform: translateX(30px);
        }
        .animate-on-scroll.is-visible {
            opacity: 1;
            transform: translate(0, 0);
        }

        /* Staggered animations for menu and testimonials */
        .stagger-1 { transition-delay: 100ms; }
        .stagger-2 { transition-delay: 200ms; }
        .stagger-3 { transition-delay: 300ms; }
        .stagger-4 { transition-delay: 400ms; }
        .stagger-5 { transition-delay: 500ms; }
        .stagger-6 { transition-delay: 600ms; }
        
        /* --- Hero Load Animation --- */
        .hero-animate-1 {
            opacity: 0;
            transform: translateY(20px);
            animation: hero-fade-in 0.8s 0.2s ease-out forwards;
        }
        .hero-animate-2 {
            opacity: 0;
            transform: translateY(20px);
            animation: hero-fade-in 0.8s 0.4s ease-out forwards;
        }
        .hero-animate-3 {
            opacity: 0;
            transform: scale(0.9);
            animation: hero-fade-in 0.8s 0.6s ease-out forwards;
        }
        @keyframes hero-fade-in {
            to {
                opacity: 1;
                transform: translate(0, 0) scale(1);
            }
        }

        /* --- Form Input Styles --- */
        .form-input {
            transition: border-color 0.3s ease, box-shadow 0.3s ease;
        }
        .form-input:focus {
            border-color: #4f46e5;
            box-shadow: 0 0 0 3px rgba(79, 70, 229, 0.2);
            outline: none;
        }

        /* SVG Icon styles */
        .menu-icon, .close-icon {
            width: 1.5rem;
            height: 1.5rem;
            stroke: currentColor;
            stroke-width: 2;
            stroke-linecap: round;
            stroke-linejoin: round;
        }

        /* --- Toast Notification --- */
        #toast {
            visibility: hidden;
            opacity: 0;
            transform: translateY(-100%);
            transition: all 0.5s ease-in-out;
        }
        #toast.show {
            visibility: visible;
            opacity: 1;
            transform: translateY(0);
        }

        /* --- Cart Badge --- */
        #cart-badge {
            transform: scale(0);
            transform-origin: center;
            transition: transform 0.2s ease-out;
        }
        #cart-badge.show {
            transform: scale(1);
        }
    </style>
</head>
<body class="text-gray-800 antialiased">

    <!-- Header & Navbar -->
    <header id="navbar" class="fixed top-0 left-0 right-0 z-50 transition-all duration-300">
        <nav class="container mx-auto max-w-7xl px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between items-center h-20">
                <!-- Logo / Brand Name -->
                <a href="#home" class="nav-brand text-2xl font-bold font-serif text-white transition-colors duration-300">
                    Bazm Coffee
                </a>

                <!-- Desktop Navigation Links -->
                <div class="hidden md:flex space-x-10">
                    <a href="#home" class="nav-link text-gray-200 hover:text-white font-medium">Home</a>
                    <a href="#about" class="nav-link text-gray-200 hover:text-white font-medium">About</a>
                    <a href="#menu" class="nav-link text-gray-200 hover:text-white font-medium">Menu</a>
                    <a href="#testimonials" class="nav-link text-gray-200 hover:text-white font-medium">Reviews</a>
                    <a href="#contact" class="nav-link text-gray-200 hover:text-white font-medium">Contact</a>
                </div>

                <!-- Cart Icon -->
                <div class="hidden md:flex items-center">
                    <button id="cart-button" class="relative text-gray-200 hover:text-white p-2 rounded-full transition-colors">
                        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z"></path></svg>
                        <span id="cart-badge" class="absolute -top-1 -right-1 bg-red-600 text-white text-xs font-bold rounded-full w-5 h-5 flex items-center justify-center">0</span>
                    </button>
                </div>

                <!-- Mobile Menu Button -->
                <div class="md:hidden flex items-center space-x-2">
                    <!-- Mobile Cart -->
                    <button id="mobile-cart-button" class="relative text-white p-2 rounded-md transition-colors">
                        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z"></path></svg>
                        <span id="mobile-cart-badge" class="absolute -top-1 -right-1 bg-red-600 text-white text-xs font-bold rounded-full w-5 h-5 flex items-center justify-center">0</span>
                    </button>
                    <!-- Mobile Menu Toggle -->
                    <button id="mobile-menu-button" class="text-white p-2 rounded-md transition-colors duration-300">
                        <svg id="menu-icon-open" class="menu-icon" fill="none" viewBox="0 0 24 24">
                            <path d="M4 6h16M4 12h16m-7 6h7"></path>
                        </svg>
                        <svg id="menu-icon-close" class="close-icon hidden" fill="none" viewBox="0 0 24 24">
                            <path d="M6 18L18 6M6 6l12 12"></path>
                        </svg>
                    </button>
                </div>
            </div>
        </nav>

        <!-- Mobile Menu (Hidden by default) -->
        <div id="mobile-menu" class="md:hidden bg-white shadow-lg fixed top-20 left-0 right-0 transform -translate-x-full transition-transform duration-300 z-40">
            <a href="#home" class="mobile-nav-link block px-6 py-4 text-gray-700 font-medium hover:bg-gray-100">Home</a>
            <a href="#about" class="mobile-nav-link block px-6 py-4 text-gray-700 font-medium hover:bg-gray-100">About</a>
            <a href="#menu" class="mobile-nav-link block px-6 py-4 text-gray-700 font-medium hover:bg-gray-100">Menu</a>
            <a href="#testimonials" class="mobile-nav-link block px-6 py-4 text-gray-700 font-medium hover:bg-gray-100">Reviews</a>
            <a href="#contact" class="mobile-nav-link block px-6 py-4 text-gray-700 font-medium hover:bg-gray-100">Contact</a>
        </div>
    </header>

    <main>

        <!-- Hero Section -->
        <section id="home" class="h-screen w-full flex items-center justify-center relative">
            <div class="relative z-10 text-center text-white px-4">
                <h1 class="text-5xl md:text-7xl font-bold font-serif mb-6 hero-animate-1">
                    Freshly Brewed, Served with Love
                </h1>
                <p class="text-xl md:text-2xl mb-10 max-w-2xl mx-auto hero-animate-2">
                    Experience the finest coffee blends, crafted with passion just for you.
                </p>
                <a href="#menu" class="bg-indigo-600 text-white font-semibold py-4 px-10 rounded-full text-lg hover:bg-indigo-700 transition duration-300 transform hover:scale-105 hero-animate-3">
                    Explore Our Menu
                </a>
            </div>
        </section>

        <!-- About Section -->
        <section id="about" class="py-24 lg:py-32 bg-white overflow-hidden">
            <div class="container mx-auto max-w-7xl px-4 sm:px-6 lg:px-8">
                <div class="grid grid-cols-1 md:grid-cols-2 gap-12 lg:gap-24 items-center">
                    <!-- Image Column -->
                    <div class="animate-on-scroll fade-in-left">
                        <img src="https://images.pexels.com/photos/302899/pexels-photo-302899.jpeg?auto=compress&cs=tinysrgb&w=600&h=400&dpr=2" alt="Barista pouring latte art" class="rounded-lg shadow-2xl w-full h-auto object-cover aspect-[4/3]" loading="lazy" onerror="this.src='https://placehold.co/600x450/A5B4FC/3730A3?text=Our+Story';">
                    </div>
                    <!-- Text Column -->
                    <div class="text-center md:text-left animate-on-scroll fade-in-right">
                        <h2 class="text-4xl lg:text-5xl font-bold font-serif text-indigo-900 mb-6">
                            Our Story
                        </h2>
                        <p class="text-lg text-gray-700 mb-4 leading-relaxed">
                            Welcome to Bazm Coffee, where every cup tells a story. Founded in 2023, our mission has been simple: to provide our community with an unforgettable coffee experience. We source our beans from the best sustainable farms around the globe.
                        </p>
                        <p class="text-lg text-gray-700 leading-relaxed">
                            Our cozy corner is more than just a shop; it's a place for connection, creativity, and comfort. Come in, take a sip, and be part of our family.
                        </p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Menu Section -->
        <section id="menu" class="py-24 lg:py-32 bg-gray-50 overflow-hidden">
            <div class="container mx-auto max-w-7xl px-4 sm:px-6 lg:px-8">
                <h2 class="text-4xl lg:text-5xl font-bold font-serif text-indigo-900 text-center mb-16 animate-on-scroll fade-in">
                    Our Signature Menu
                </h2>
                
                <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-10">
                    
                    <!-- Menu Item 1: Espresso -->
                    <div class="menu-card bg-white rounded-lg shadow-lg overflow-hidden animate-on-scroll fade-in-up stagger-1"
                         data-name="Classic Espresso"
                         data-price="$2.50"
                         data-img-src="https://images.pexels.com/photos/312418/pexels-photo-312418.jpeg?auto=compress&cs=tinysrgb&w=600&h=400&dpr=2"
                         data-description="A rich and intense shot of pure coffee goodness."
                         data-details="Our classic espresso is the heart of all our coffees. We use a single-origin bean, meticulously roasted to bring out its bold flavors of dark chocolate and toasted nuts. A perfect, powerful start to your day.">
                        <div class="relative">
                            <img src="https://images.pexels.com/photos/312418/pexels-photo-312418.jpeg?auto=compress&cs=tinysrgb&w=600&h=400&dpr=2" alt="Espresso" class="w-full h-64 object-cover" loading="lazy" onerror="this.src='https://placehold.co/600x400/C7D2FE/3730A3?text=Espresso';">
                            <span class="absolute top-4 left-4 bg-indigo-600 text-white text-xs font-bold px-3 py-1 rounded-full uppercase tracking-wider">Featured</span>
                        </div>
                        <div class="p-6">
                            <h3 class="text-2xl font-semibold text-gray-900 mb-2">Classic Espresso</h3>
                            <p class="text-gray-600 mb-4 h-12">A rich and intense shot of pure coffee goodness.</p>
                            <div class="flex justify-between items-center">
                                <span class="text-2xl font-bold text-indigo-600">$2.50</span>
                                <button class="view-details-btn font-medium text-indigo-600 hover:text-indigo-800 transition-colors">View Details &rarr;</button>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Menu Item 2: Cappuccino -->
                    <div class="menu-card bg-white rounded-lg shadow-lg overflow-hidden animate-on-scroll fade-in-up stagger-2"
                         data-name="Creamy Cappuccino"
                         data-price="$3.50"
                         data-img-src="https://images.pexels.com/photos/302896/pexels-photo-302896.jpeg?auto=compress&cs=tinysrgb&w=600&h=400&dpr=2"
                         data-description="Perfectly balanced espresso, steamed milk, and airy foam."
                         data-details="A true classic. Our cappuccino features a double shot of espresso beneath a smooth layer of steamed milk and a thick, airy cap of microfoam. Finished with a dusting of cocoa powder.">
                        <div class="relative">
                            <img src="https://images.pexels.com/photos/302896/pexels-photo-302896.jpeg?auto=compress&cs=tinysrgb&w=600&h=400&dpr=2" alt="Cappuccino" class="w-full h-64 object-cover" loading="lazy" onerror="this.src='https://placehold.co/600x400/C7D2FE/3730A3?text=Cappuccino';">
                            <span class="absolute top-4 left-4 bg-indigo-600 text-white text-xs font-bold px-3 py-1 rounded-full uppercase tracking-wider">Featured</span>
                        </div>
                        <div class="p-6">
                            <h3 class="text-2xl font-semibold text-gray-900 mb-2">Creamy Cappuccino</h3>
                            <p class="text-gray-600 mb-4 h-12">Perfectly balanced espresso, steamed milk, and airy foam.</p>
                            <div class="flex justify-between items-center">
                                <span class="text-2xl font-bold text-indigo-600">$3.50</span>
                                <button class="view-details-btn font-medium text-indigo-600 hover:text-indigo-800 transition-colors">View Details &rarr;</button>
                            </div>
                        </div>
                    </div>

                    <!-- Menu Item 3: Cafe Latte -->
                    <div class="menu-card bg-white rounded-lg shadow-lg overflow-hidden animate-on-scroll fade-in-up stagger-3"
                         data-name="Cafe Latte"
                         data-price="$4.00"
                         data-img-src="https://images.pexels.com/photos/1235717/pexels-photo-1235717.jpeg?auto=compress&cs=tinysrgb&w=600&h=400&dpr=2"
                         data-description="A creamy blend of espresso and a generous pour of steamed milk."
                         data-details="Our smoothest, milkiest coffee. The Cafe Latte starts with our signature espresso, gently blended with a large portion of perfectly steamed milk, and topped with a small layer of foam. Ideal for a long, relaxing break.">
                        <img src="https://images.pexels.com/photos/1235717/pexels-photo-1235717.jpeg?auto=compress&cs=tinysrgb&w=600&h=400&dpr=2" alt="Cafe Latte" class="w-full h-64 object-cover" loading="lazy" onerror="this.src='https://placehold.co/600x400/C7D2FE/3730A3?text=Cafe+Latte';">
                        <div class="p-6">
                            <h3 class="text-2xl font-semibold text-gray-900 mb-2">Cafe Latte</h3>
                            <p class="text-gray-600 mb-4 h-12">A creamy blend of espresso and a generous pour of steamed milk.</p>
                            <div class="flex justify-between items-center">
                                <span class="text-2xl font-bold text-indigo-600">$4.00</span>
                                <button class="view-details-btn font-medium text-indigo-600 hover:text-indigo-800 transition-colors">View Details &rarr;</button>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Menu Item 4: Mocha -->
                    <div class="menu-card bg-white rounded-lg shadow-lg overflow-hidden animate-on-scroll fade-in-up stagger-4"
                         data-name="Decadent Mocha"
                         data-price="$4.50"
                         data-img-src="https://images.pexels.com/photos/3735147/pexels-photo-3735147.jpeg?auto=compress&cs=tinysrgb&w=600&h=400&dpr=2"
                         data-description="A delicious mix of rich espresso, chocolate, and steamed milk."
                         data-details="For the chocolate lovers. We melt high-quality dark chocolate sauce with a shot of espresso, then blend it all with steamed milk and top it with whipped cream and a chocolate drizzle. A truly decadent treat.">
                        <img src="https://images.pexels.com/photos/3735147/pexels-photo-3735147.jpeg?auto=compress&cs=tinysrgb&w=600&h=400&dpr=2" alt="Mocha" class="w-full h-64 object-cover" loading="lazy" onerror="this.src='https://placehold.co/600x400/C7D2FE/3730A3?text=Mocha';">
                        <div class="p-6">
                            <h3 class="text-2xl font-semibold text-gray-900 mb-2">Decadent Mocha</h3>
                            <p class="text-gray-600 mb-4 h-12">A delicious mix of rich espresso, chocolate, and steamed milk.</p>
                            <div class="flex justify-between items-center">
                                <span class="text-2xl font-bold text-indigo-600">$4.50</span>
                                <button class="view-details-btn font-medium text-indigo-600 hover:text-indigo-800 transition-colors">View Details &rarr;</button>
                            </div>
                        </div>
                    </div>

                    <!-- Menu Item 5: Iced Coffee -->
                    <div class="menu-card bg-white rounded-lg shadow-lg overflow-hidden animate-on-scroll fade-in-up stagger-5"
                         data-name="Smooth Iced Coffee"
                         data-price="$3.75"
                         data-img-src="https://images.pexels.com/photos/1400172/pexels-photo-1400172.jpeg?auto=compress&cs=tinysrgb&w=600&h=400&dpr=2"
                         data-description="Our signature cold brew, smooth, bold, and refreshing."
                         data-details="Steeped for 18 hours, our cold brew is incredibly smooth with low acidity and a natural sweetness. Served over ice, it's the perfect refreshing pick-me-up for a warm day. Add a splash of your favorite milk or syrup.">
                        <img src="https://images.pexels.com/photos/1400172/pexels-photo-1400172.jpeg?auto=compress&cs=tinysrgb&w=600&h=400&dpr=2" alt="Iced Coffee" class="w-full h-64 object-cover" loading="lazy" onerror="this.src='https://placehold.co/600x400/C7D2FE/3730A3?text=Iced+Coffee';">
                        <div class="p-6">
                            <h3 class="text-2xl font-semibold text-gray-900 mb-2">Smooth Iced Coffee</h3>
                            <p class="text-gray-600 mb-4 h-12">Our signature cold brew, smooth, bold, and refreshing.</p>
                            <div class="flex justify-between items-center">
                                <span class="text-2xl font-bold text-indigo-600">$3.75</span>
                                <button class="view-details-btn font-medium text-indigo-600 hover:text-indigo-800 transition-colors">View Details &rarr;</button>
                            </div>
                        </div>
                    </div>

                    <!-- Menu Item 6: Croissant -->
                    <div class="menu-card bg-white rounded-lg shadow-lg overflow-hidden animate-on-scroll fade-in-up stagger-6"
                         data-name="Butter Croissant"
                         data-price="$2.75"
                         data-img-src="https://images.pexels.com/photos/2205270/pexels-photo-2205270.jpeg?auto=compress&cs=tinysrgb&w=600&h=400&dpr=2"
                         data-description="Flaky, buttery, and the perfect pair for any coffee."
                         data-details="Freshly baked in-house every morning. Our croissants are light, airy, and layered with premium butter. The perfect companion to your morning espresso or latte. Served warm upon request.">
                        <img src="https://images.pexels.com/photos/2205270/pexels-photo-2205270.jpeg?auto=compress&cs=tinysrgb&w=600&h=400&dpr=2" alt="Croissant" class="w-full h-64 object-cover" loading="lazy" onerror="this.src='https://placehold.co/600x400/C7D2FE/3730A3?text=Croissant';">
                        <div class="p-6">
                            <h3 class="text-2xl font-semibold text-gray-900 mb-2">Butter Croissant</h3>
                            <p class="text-gray-600 mb-4 h-12">Flaky, buttery, and the perfect pair for any coffee.</p>
                            <div class="flex justify-between items-center">
                                <span class="text-2xl font-bold text-indigo-600">$2.75</span>
                                <button class="view-details-btn font-medium text-indigo-600 hover:text-indigo-800 transition-colors">View Details &rarr;</button>
                            </div>
                        </div>
                    </div>

                </div>
            </div>
        </section>
        
        <!-- Testimonials Section -->
        <section id="testimonials" class="py-24 lg:py-32 bg-white overflow-hidden">
            <div class="container mx-auto max-w-7xl px-4 sm:px-6 lg:px-8">
                <h2 class="text-4xl lg:text-5xl font-bold font-serif text-indigo-900 text-center mb-16 animate-on-scroll fade-in">
                    What Our Customers Say
                </h2>
                <div class="grid grid-cols-1 md:grid-cols-3 gap-10">
                    <!-- Testimonial 1 -->
                    <div class="bg-gray-50 p-8 rounded-lg shadow-lg animate-on-scroll fade-in-up stagger-1">
                        <p class="text-gray-700 text-lg italic mb-6 leading-relaxed">"This is hands down the best coffee in town. The atmosphere is so cozy and the baristas are always friendly. The Classic Espresso is my daily go-to!"</p>
                        <div class="flex items-center">
                            <img src="https://placehold.co/60x60/E0E7FF/4338CA?text=JS" alt="Jane Smith" class="w-14 h-14 rounded-full object-cover mr-4">
                            <div>
                                <h4 class="font-bold text-gray-900">Jane S.</h4>
                                <p class="text-sm text-indigo-600">Local Resident</p>
                            </div>
                        </div>
                    </div>
                    <!-- Testimonial 2 -->
                    <div class="bg-gray-50 p-8 rounded-lg shadow-lg animate-on-scroll fade-in-up stagger-2">
                        <p class="text-gray-700 text-lg italic mb-6 leading-relaxed">"I held a study group here and it was perfect. The Wi-Fi is fast, the lattes are amazing, and the Butter Croissant was just... wow. Highly recommend."</p>
                        <div class="flex items-center">
                            <img src="https://placehold.co/60x60/E0E7FF/4338CA?text=MD" alt="Mark Davis" class="w-14 h-14 rounded-full object-cover mr-4">
                            <div>
                                <h4 class="font-bold text-gray-900">Mark D.</h4>
                                <p class="text-sm text-indigo-600">University Student</p>
                            </div>
                        </div>
                    </div>
                    <!-- Testimonial 3 -->
                    <div class="bg-gray-50 p-8 rounded-lg shadow-lg animate-on-scroll fade-in-up stagger-3">
                        <p class="text-gray-700 text-lg italic mb-6 leading-relaxed">"I'm very picky about my cold brew, and Bazm Coffee nails it. It's so smooth and never bitter. I've already told all my friends this is our new spot."</p>
                        <div class="flex items-center">
                            <img src="https://placehold.co/60x60/E0E7FF/4338CA?text=AC" alt="Anna Chen" class="w-14 h-14 rounded-full object-cover mr-4">
                            <div>
                                <h4 class="font-bold text-gray-900">Anna C.</h4>
                                <p class="text-sm text-indigo-600">Freelance Designer</p>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>

    </main>

    <!-- Contact / Footer Section -->
    <footer id="contact" class="bg-gray-900 text-gray-300 py-24 overflow-hidden">
        <div class="container mx-auto max-w-7xl px-4 sm:px-6 lg:px-8">
            <h2 class="text-4xl lg:text-5xl font-bold font-serif text-white text-center mb-16 animate-on-scroll fade-in">
                Get In Touch
            </h2>
            <div class="grid grid-cols-1 md:grid-cols-2 gap-16 items-start">
                
                <!-- Contact Form -->
                <form action="#" method="POST" class="space-y-6 animate-on-scroll fade-in-left">
                    <div>
                        <label for="name" class="block text-sm font-medium text-gray-300">Name</label>
                        <input type="text" name="name" id="name" required class="form-input mt-1 block w-full rounded-md bg-gray-800 border-gray-700 text-white p-3">
                    </div>
                    <div>
                        <label for="email" class="block text-sm font-medium text-gray-300">Email</label>
                        <input type="email" name="email" id="email" required class="form-input mt-1 block w-full rounded-md bg-gray-800 border-gray-700 text-white p-3">
                    </div>
                    <div>
                        <label for="message" class="block text-sm font-medium text-gray-300">Message</label>
                        <textarea name="message" id="message" rows="5" required class="form-input mt-1 block w-full rounded-md bg-gray-800 border-gray-700 text-white p-3"></textarea>
                    </div>
                    <div>
                        <button type="submit" class="w-full bg-indigo-600 text-white font-semibold py-3 px-8 rounded-full text-lg hover:bg-indigo-700 transition duration-300 transform hover:scale-105">
                            Send Message
                        </button>
                    </div>
                </form>
                
                <!-- Contact Info -->
                <div class="space-y-12 animate-on-scroll fade-in-right">
                    <div>
                        <h4 class="text-xl font-semibold text-white mb-4">Contact Us</h4>
                        <ul class="space-y-3">
                            <li class="flex items-center space-x-3">
                                <svg class="w-5 h-5 text-indigo-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"></path></svg>
                                <a href="mailto:info@bazmcoffee.com" class="hover:text-indigo-400">info@bazmcoffee.com</a>
                            </li>
                            <li class="flex items-center space-x-3">
                                <svg class="w-5 h-5 text-indigo-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"></path></svg>
                                <a href="tel:+1234567890" class="hover:text-indigo-400">+1 (234) 567-890</a>
                            </li>
                            <li class="flex items-center space-x-3">
                                <svg class="w-5 h-5 text-indigo-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"></path><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z"></path></svg>
                                <p>123 Coffee Lane, Brewville, CA 90210</p>
                            </li>
                        </ul>
                    </div>
                    
                    <div>
                        <h4 class="text-xl font-semibold text-white mb-4">Follow Us</h4>
                        <div class="flex space-x-6">
                            <a href="#" class="text-gray-300 hover:text-indigo-400" aria-label="Facebook">
                                <svg class="w-7 h-7" fill="currentColor" viewBox="0 0 24 24">
                                    <path fill-rule="evenodd" d="M22 12c0-5.523-4.477-10-10-10S2 6.477 2 12c0 4.991 3.657 9.128 8.438 9.878v-6.987h-2.54V12h2.54V9.797c0-2.506 1.492-3.89 3.777-3.89 1.094 0 2.238.195 2.238.195v2.46h-1.26c-1.243 0-1.63.771-1.63 1.562V12h2.773l-.443 2.89h-2.33v6.988C18.343 21.128 22 16.991 22 12z" clip-rule="evenodd" />
                                </svg>
                            </a>
                            <a href="#" class="text-gray-300 hover:text-indigo-400" aria-label="Instagram">
                                <svg class="w-7 h-7" fill="currentColor" viewBox="0 0 24 24">
                                    <path fill-rule="evenodd" d="M12.315 2.001a10.02 10.02 0 013.882.685 6.84 6.84 0 012.36 1.407 6.84 6.84 0 011.407 2.36 10.02 10.02 0 01.685 3.882c.064 1.11.096 1.476.096 4.665s-.032 3.555-.096 4.665a10.02 10.02 0 01-.685 3.882 6.84 6.84 0 01-1.407 2.36 6.84 6.84 0 01-2.36 1.407 10.02 10.02 0 01-3.882.685c-1.11.064-1.476.096-4.665.096s-3.555-.032-4.665-.096a10.02 10.02 0 01-3.882-.685 6.84 6.84 0 01-2.36-1.407 6.84 6.84 0 01-1.407-2.36 10.02 10.02 0 01-.685-3.882c-.064-1.11-.096-1.476-.096-4.665s.032-3.555.096-4.665A10.02 10.02 0 013.35 2.686a6.84 6.84 0 011.407-2.36 6.84 6.84 0 012.36-1.407 10.02 10.02 0 013.882-.685h.63zm-1.002 1.706a8.31 8.31 0 00-3.23.57 5.13 5.13 0 00-1.77 1.042 5.13 5.13 0 00-1.042 1.77 8.31 8.31 0 00-.57 3.23c-.06 1.095-.09 1.44-.09 4.38s.03 3.285.09 4.38a8.31 8.31 0 00.57 3.23 5.13 5.13 0 001.042 1.77 5.13 5.13 0 001.77 1.042 8.31 8.31 0 003.23.57c1.095.06 1.44.09 4.38.09s3.285-.03 4.38-.09a8.31 8.31 0 003.23-.57 5.13 5.13 0 001.77-1.042 5.13 5.13 0 001.042-1.77 8.31 8.31 0 00.57-3.23c.06-1.095.09-1.44.09-4.38s-.03-3.285-.09-4.38a8.31 8.31 0 00-.57-3.23 5.13 5.13 0 00-1.042-1.77 5.13 5.13 0 00-1.77-1.042 8.31 8.31 0 00-3.23-.57c-1.095-.06-1.44-.09-4.38-.09s-3.285.03-4.38.09zM12 8.212a3.788 3.788 0 100 7.576 3.788 3.788 0 000-7.576zm0 1.706a2.082 2.082 0 110 4.164 2.082 2.082 0 010-4.164zm5.17-2.82a.92.92 0 100 1.84.92.92 0 000-1.84z" clip-rule="evenodd" />
                                </svg>
                            </a>
                            <a href="#" class="text-gray-300 hover:text-indigo-400" aria-label="Twitter">
                                <svg class="w-7 h-7" fill="currentColor" viewBox="0 0 24 24">
                                    <path d="M23.953 4.57a10 10 0 01-2.825.775 4.958 4.958 0 002.163-2.723c-.951.555-2.005.959-3.127 1.184a4.92 4.92 0 00-8.384 4.482C7.69 8.095 4.067 6.13 1.64 3.162a4.822 4.822 0 00-.666 2.475c0 1.71.87 3.213 2.188 4.096a4.904 4.904 0 01-2.228-.616v.06a4.923 4.923 0 003.946 4.827 4.996 4.996 0 01-2.212.085 4.936 4.936 0 004.604 3.417 9.867 9.867 0 01-6.102 2.105c-.39 0-.779-.023-1.17-.067a13.995 13.995 0 007.557 2.209c9.053 0 13.998-7.496 13.998-13.985 0-.213 0-.425-.015-.637A9.954 9.954 0 0024 4.59z" />
                                </svg>
                            </a>
                        </div>
                    </div>
                </div>
            </div>
            <div class="text-center mt-16 pt-10 border-t border-gray-700">
                <p class="text-sm">&copy; 2024 Bazm Coffee. All rights reserved. Crafted with &hearts;.</p>
            </div>
        </div>
    </footer>


    <!-- Menu Item Modal (Popup) -->
    <div id="menu-modal" class="modal fixed inset-0 z-50 flex items-center justify-center p-4">
        <!-- Overlay -->
        <div id="modal-overlay" class_add="absolute inset-0 bg-black opacity-75"></div>
        
        <!-- Content -->
        <div id="modal-content" class="relative bg-white rounded-lg shadow-2xl w-full max-w-4xl max-h-[90vh] overflow-y-auto flex flex-col md:flex-row">
            <!-- Close Button -->
            <button id="modal-close-btn" class="absolute -top-3 -right-3 z-10 bg-white text-gray-700 rounded-full w-10 h-10 flex items-center justify-center shadow-lg hover:bg-gray-100 transition-colors">
                <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg>
            </button>
            
            <!-- Image -->
            <img id="modal-img" src="" alt="" class="w-full md:w-1/2 h-64 md:h-auto object-cover rounded-t-lg md:rounded-l-lg md:rounded-t-none">
            
            <!-- Details -->
            <div class="p-6 md:p-8 flex-1">
                <h3 id="modal-name" class="text-3xl font-bold font-serif text-indigo-900 mb-2"></h3>
                <span id="modal-price" class="block text-2xl font-bold text-indigo-600 mb-4"></span>
                <p id="modal-description" class="text-lg text-gray-700 mb-6"></p>
                
                <h4 class="text-xl font-semibold text-gray-900 mb-3">Details</h4>
                <p id="modal-details" class="text-gray-600 mb-6 leading-relaxed"></p>

                <h4 class="text-xl font-semibold text-gray-900 mb-3">Customize Your Order</h4>
                <div class="mb-4">
                    <label class="block text-sm font-medium text-gray-700 mb-2">Size</label>
                    <div id="size-options" class="flex flex-wrap gap-2">
                        <button class="modal-option active border border-gray-300 rounded-full px-4 py-2 text-sm font-medium" data-option="size">Small</button>
                        <button class="modal-option border border-gray-300 rounded-full px-4 py-2 text-sm font-medium" data-option="size">Medium</button>
                        <button class="modal-option border border-gray-300 rounded-full px-4 py-2 text-sm font-medium" data-option="size">Large</button>
                    </div>
                </div>
                <div class="mb-6">
                    <label class="block text-sm font-medium text-gray-700 mb-2">Milk</label>
                    <div id="milk-options" class="flex flex-wrap gap-2">
                        <button class="modal-option active border border-gray-300 rounded-full px-4 py-2 text-sm font-medium" data-option="milk">Whole Milk</button>
                        <button class="modal-option border border-gray-300 rounded-full px-4 py-2 text-sm font-medium" data-option="milk">Oat Milk</button>
                        <button class="modal-option border border-gray-300 rounded-full px-4 py-2 text-sm font-medium" data-option="milk">Almond Milk</button>
                    </div>
                </div>
                
                <button id="add-to-cart-btn" class="w-full bg-indigo-600 text-white font-semibold py-3 px-8 rounded-full text-lg hover:bg-indigo-700 transition duration-300 transform hover:scale-105">
                    Add to Cart
                </button>
            </div>
        </div>
    </div>

    <!-- Cart Modal -->
    <div id="cart-modal" class="modal fixed inset-0 z-50 flex items-center justify-center p-4">
        <!-- Overlay -->
        <div class="modal-overlay absolute inset-0 bg-black opacity-75"></div>
        
        <!-- Content -->
        <div id="cart-modal-content" class="relative bg-white rounded-lg shadow-2xl w-full max-w-2xl max-h-[90vh] overflow-y-auto flex flex-col">
            <!-- Header -->
            <div class="flex justify-between items-center p-6 border-b">
                <h3 class="text-2xl font-bold font-serif text-indigo-900">Your Cart</h3>
                <button class="modal-close-btn text-gray-700 hover:text-gray-900">
                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg>
                </button>
            </div>
            
            <!-- Cart Items -->
            <div id="cart-items-list" class="p-6 space-y-4 flex-1">
                <!-- Items will be dynamically inserted here -->
                <!-- Example Item:
                <div class="flex items-center space-x-4">
                    <img src="https://placehold.co/80x80" alt="Item" class="w-20 h-20 rounded-md object-cover">
                    <div class="flex-1">
                        <h4 class="font-semibold text-gray-900">Classic Espresso</h4>
                        <p class="text-sm text-gray-600">Size: Medium, Milk: Oat Milk</p>
                        <span class="font-bold text-indigo-600">$2.50</span>
                    </div>
                    <button class="text-red-500 hover:text-red-700">&times;</button>
                </div>
                -->
                <p id="cart-empty-msg" class="text-gray-600">Your cart is empty.</p>
            </div>

            <!-- Footer -->
            <div class="p-6 bg-gray-50 border-t">
                <div class="flex justify-between items-center mb-4">
                    <span class="text-xl font-semibold text-gray-900">Total:</span>
                    <span id="cart-total" class="text-2xl font-bold text-indigo-600">$0.00</span>
                </div>
                <button id="checkout-btn" class="w-full bg-indigo-600 text-white font-semibold py-3 px-8 rounded-full text-lg hover:bg-indigo-700 transition duration-300 disabled:opacity-50" disabled>
                    Proceed to Checkout
                </button>
            </div>
        </div>
    </div>

    <!-- Checkout Modal -->
    <div id="checkout-modal" class="modal fixed inset-0 z-50 flex items-center justify-center p-4">
        <!-- Overlay -->
        <div class="modal-overlay absolute inset-0 bg-black opacity-75"></div>
        
        <!-- Content -->
        <div class="relative bg-white rounded-lg shadow-2xl w-full max-w-lg max-h-[90vh] overflow-y-auto flex flex-col">
            <!-- Header -->
            <div class="flex justify-between items-center p-6 border-b">
                <h3 class="text-2xl font-bold font-serif text-indigo-900">Checkout</h3>
                <button class="modal-close-btn text-gray-700 hover:text-gray-900">
                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path></svg>
                </button>
            </div>
            
            <!-- Form -->
            <form id="checkout-form" class="p-6 space-y-4">
                <div id="checkout-success-msg" class="hidden p-4 rounded-md bg-green-100 text-green-700">
                    <h4 class="font-bold">Order Placed!</h4>
                    <p>Thank you for your purchase. Your order is being prepared.</p>
                </div>
                
                <div>
                    <label for="checkout-name" class="block text-sm font-medium text-gray-700">Full Name</label>
                    <input type="text" id="checkout-name" class="form-input mt-1 block w-full rounded-md border-gray-300 shadow-sm" required>
                </div>
                <div>
                    <label for="checkout-address" class="block text-sm font-medium text-gray-700">Delivery Address</label>
                    <input type="text" id="checkout-address" class="form-input mt-1 block w-full rounded-md border-gray-300 shadow-sm" required>
                </div>
                <div>
                    <label for="checkout-phone" class="block text-sm font-medium text-gray-700">Phone Number</label>
                    <input type="tel" id="checkout-phone" class="form-input mt-1 block w-full rounded-md border-gray-300 shadow-sm" required>
                </div>
                
                <!-- Mock Payment Section -->
                <div class="pt-4">
                    <h4 class="text-lg font-semibold text-gray-900 mb-2">Payment (Simulation)</h4>
                    <div class="p-4 border rounded-md bg-gray-50">
                        <p class="text-gray-700">This is a demo site. No real payment will be processed. Clicking "Confirm" will simulate a successful order.</p>
                    </div>
                </div>

                <button type="submit" class="w-full bg-green-600 text-white font-semibold py-3 px-8 rounded-full text-lg hover:bg-green-700 transition duration-300">
                    Confirm Order
                </button>
            </form>
        </div>
    </div>

    <!-- Toast Notification -->
    <div id="toast" class="fixed top-24 left-1/2 -translate-x-1/2 z-50 bg-gray-900 text-white py-3 px-6 rounded-full shadow-lg">
        <p id="toast-message">Item added to cart!</p>
    </div>


    <script>
        document.addEventListener('DOMContentLoaded', () => {
            
            // --- Global Cart State ---
            let cart = [];
            let currentItemDetails = {}; // To store item details before adding to cart

            // --- Element Selectors ---
            const navbar = document.getElementById('navbar');
            const mobileMenuButton = document.getElementById('mobile-menu-button');
            const mobileMenu = document.getElementById('mobile-menu');
            const mobileNavLinks = mobileMenu.querySelectorAll('.mobile-nav-link');
            const menuIconOpen = document.getElementById('menu-icon-open');
            const menuIconClose = document.getElementById('menu-icon-close');

            const modal = document.getElementById('menu-modal');
            const modalCloseBtn = document.getElementById('modal-close-btn');
            const menuCards = document.querySelectorAll('.menu-card');
            
            const cartButton = document.getElementById('cart-button');
            const mobileCartButton = document.getElementById('mobile-cart-button');
            const cartModal = document.getElementById('cart-modal');
            const checkoutModal = document.getElementById('checkout-modal');
            const cartBadge = document.getElementById('cart-badge');
            const mobileCartBadge = document.getElementById('mobile-cart-badge');
            const cartItemsList = document.getElementById('cart-items-list');
            const cartEmptyMsg = document.getElementById('cart-empty-msg');
            const cartTotalEl = document.getElementById('cart-total');
            const checkoutBtn = document.getElementById('checkout-btn');
            const checkoutForm = document.getElementById('checkout-form');
            const checkoutSuccessMsg = document.getElementById('checkout-success-msg');
            
            const addToCartBtn = document.getElementById('add-to-cart-btn');
            const toast = document.getElementById('toast');
            
            // --- General Modal Logic ---
            const openModal = (modalEl) => {
                modalEl.classList.add('is-open');
                document.body.style.overflow = 'hidden';
            };

            const closeModal = (modalEl) => {
                modalEl.classList.remove('is-open');
                if (!document.querySelector('.modal.is-open')) {
                    document.body.style.overflow = 'auto';
                }
            };

            // Close buttons for all modals
            document.querySelectorAll('.modal-close-btn, .modal-overlay').forEach(el => {
                el.addEventListener('click', () => {
                    closeModal(el.closest('.modal'));
                });
            });

            // --- Navbar & Mobile Menu Logic ---
            const handleScroll = () => {
                navbar.classList.toggle('navbar-scrolled', window.scrollY > 50);
            };

            const toggleMobileMenu = () => {
                const isOpen = mobileMenu.classList.toggle('-translate-x-full');
                menuIconOpen.classList.toggle('hidden', !isOpen);
                menuIconClose.classList.toggle('hidden', isOpen);
                document.body.classList.toggle('overflow-hidden', !isOpen);
            };

            mobileNavLinks.forEach(link => {
                link.addEventListener('click', () => {
                    mobileMenu.classList.add('-translate-x-full');
                    menuIconOpen.classList.remove('hidden');
                    menuIconClose.classList.add('hidden');
                    document.body.classList.remove('overflow-hidden');
                });
            });

            window.addEventListener('scroll', handleScroll);
            mobileMenuButton.addEventListener('click', toggleMobileMenu);
            handleScroll();

            // --- On-Scroll Animation Logic ---
            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.classList.add('is-visible');
                        observer.unobserve(entry.target);
                    }
                });
            }, { threshold: 0.1 });
            document.querySelectorAll('.animate-on-scroll').forEach(el => observer.observe(el));

            // --- Product Modal Logic ---
            menuCards.forEach(card => {
                card.querySelector('.view-details-btn').addEventListener('click', (e) => {
                    e.preventDefault();
                    
                    // 1. Store item details for cart
                    currentItemDetails = {
                        id: card.dataset.name.replace(/\s+/g, '-').toLowerCase(), // Create a simple ID
                        name: card.dataset.name,
                        price: parseFloat(card.dataset.price.replace('$', '')),
                        imgSrc: card.dataset.imgSrc,
                    };

                    // 2. Populate and open modal
                    document.getElementById('modal-img').src = card.dataset.imgSrc;
                    document.getElementById('modal-img').alt = card.dataset.name;
                    document.getElementById('modal-name').textContent = card.dataset.name;
                    document.getElementById('modal-price').textContent = card.dataset.price;
                    document.getElementById('modal-description').textContent = card.dataset.description;
                    document.getElementById('modal-details').textContent = card.dataset.details;
                    
                    resetModalOptions();
                    openModal(modal);
                });
            });

            const resetModalOptions = () => {
                document.querySelectorAll('.modal-option').forEach(btn => btn.classList.remove('active'));
                document.querySelector('#size-options button:first-child').classList.add('active');
                document.querySelector('#milk-options button:first-child').classList.add('active');
            };

            document.querySelectorAll('.modal-option').forEach(button => {
                button.addEventListener('click', () => {
                    const optionType = button.dataset.option;
                    document.querySelectorAll(`.modal-option[data-option="${optionType}"]`).forEach(btn => {
                        btn.classList.remove('active');
                    });
                    button.classList.add('active');
                });
            });

            // --- Cart Logic ---
            const showToast = (message) => {
                toast.querySelector('#toast-message').textContent = message;
                toast.classList.add('show');
                setTimeout(() => {
                    toast.classList.remove('show');
                }, 3000);
            };

            const addToCart = () => {
                // 1. Get selected options
                const size = document.querySelector('#size-options .modal-option.active').textContent;
                const milk = document.querySelector('#milk-options .modal-option.active').textContent;
                
                // 2. Create unique cart item ID based on options
                const cartItemId = `${currentItemDetails.id}-${size}-${milk}`;
                
                // 3. Check if item with same options is already in cart
                const existingItem = cart.find(item => item.cartItemId === cartItemId);
                
                if (existingItem) {
                    existingItem.quantity += 1;
                } else {
                    cart.push({
                        ...currentItemDetails,
                        cartItemId: cartItemId,
                        size: size,
                        milk: milk,
                        quantity: 1
                    });
                }
                
                // 4. Update UI
                updateCartUI();
                showToast(`${currentItemDetails.name} added to cart!`);
                closeModal(modal);
            };

            const removeFromCart = (cartItemId) => {
                cart = cart.filter(item => item.cartItemId !== cartItemId);
                updateCartUI();
            };

            const updateCartUI = () => {
                // 1. Update Badge
                const totalItems = cart.reduce((sum, item) => sum + item.quantity, 0);
                cartBadge.textContent = totalItems;
                mobileCartBadge.textContent = totalItems;
                cartBadge.classList.toggle('show', totalItems > 0);
                mobileCartBadge.classList.toggle('show', totalItems > 0);

                // 2. Update Cart Modal List
                if (cart.length === 0) {
                    cartItemsList.innerHTML = '';
                    cartEmptyMsg.classList.remove('hidden');
                    checkoutBtn.disabled = true;
                } else {
                    cartEmptyMsg.classList.add('hidden');
                    checkoutBtn.disabled = false;
                    cartItemsList.innerHTML = cart.map((item, index) => `
                        <div class="flex items-center space-x-4">
                            <img src="${item.imgSrc}" alt="${item.name}" class="w-20 h-20 rounded-md object-cover">
                            <div class="flex-1">
                                <h4 class="font-semibold text-gray-900">${item.name}</h4>
                                <p class="text-sm text-gray-600">Size: ${item.size}, Milk: ${item.milk}</p>
                                <span class="font-bold text-indigo-600">$${item.price.toFixed(2)}</span>
                                <span class="text-sm text-gray-600"> (Qty: ${item.quantity})</span>
                            </div>
                            <button class="remove-from-cart-btn text-red-500 hover:text-red-700" data-cart-id="${item.cartItemId}" title="Remove item">
                                <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"></path></svg>
                            </button>
                        </div>
                    `).join('');
                }

                // 3. Add event listeners to remove buttons
                document.querySelectorAll('.remove-from-cart-btn').forEach(btn => {
                    btn.addEventListener('click', () => {
                        removeFromCart(btn.dataset.cartId);
                    });
                });

                // 4. Update Total
                const total = cart.reduce((sum, item) => sum + (item.price * item.quantity), 0);
                cartTotalEl.textContent = `$${total.toFixed(2)}`;
            };
            
            // --- Event Listeners ---
            addToCartBtn.addEventListener('click', addToCart);
            cartButton.addEventListener('click', () => openModal(cartModal));
            mobileCartButton.addEventListener('click', () => openModal(cartModal));

            checkoutBtn.addEventListener('click', () => {
                closeModal(cartModal);
                openModal(checkoutModal);
                checkoutSuccessMsg.classList.add('hidden');
                checkoutForm.reset();
            });

            checkoutForm.addEventListener('submit', (e) => {
                e.preventDefault();
                // This is where you would normally send data to a server/database
                
                // Simulate success
                checkoutSuccessMsg.classList.remove('hidden');
                
                // Clear cart and update UI
                cart = [];
                updateCartUI();
                
                // Close modal after a delay
                setTimeout(() => {
                    closeModal(checkoutModal);
                }, 3000);
            });
            
            // Initial UI update
            updateCartUI();
        });
    </script>

</body>
</html>